<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quiz 5 - English Conversation</title>
  <style>
    body { font-family: Arial; padding: 20px; max-width: 800px; margin: auto; }
    .question { margin-bottom: 20px; }
    .explanation { color: red; display: none; margin-left: 15px; }
    label.correct { color: green; font-weight: bold; }
    button { margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Quiz 5 - English Conversation</h1>
  <form id="quizForm">
    <div class="question">
      <p>1. Are you sure the match starts at two?</p>
      <label><input type="radio" name="q1" value="A"> A. It started well.</label><br>
      <label><input type="radio" name="q1" value="B"> B. It's all right.</label><br>
      <label><input type="radio" name="q1" value="C"> C. I think so.</label><br>
      <div class="explanation" id="ex1">
        → Đáp án C "I think so." (Tôi nghĩ vậy.) là đáp án đúng vì người hỏi xác nhận thời gian trận đấu bắt đầu. Các đáp án khác không phù hợp:<br>
        A. "It started well." (Nó đã bắt đầu tốt) không liên quan.<br>
        B. "It's all right." (Không sao) không đúng nghĩa câu hỏi.
      </div>
    </div>

    <div class="question">
      <p>2. I saw the new Spielberg film last night.</p>
      <label><input type="radio" name="q2" value="A"> A. Did I go?</label><br>
      <label><input type="radio" name="q2" value="B"> B. Has he come?</label><br>
      <label><input type="radio" name="q2" value="C"> C. Was it good?</label><br>
      <div class="explanation" id="ex2">
        → Đáp án C "Was it good?" (Nó có hay không?) là câu hỏi hợp lý để tiếp tục cuộc trò chuyện về bộ phim.<br>
        A. "Did I go?" (Tôi đã đi à?) không hợp ngữ cảnh.<br>
        B. "Has he come?" (Anh ấy đã đến chưa?) không liên quan.
      </div>
    </div>

    <div class="question">
      <p>3. How did the accident happen?</p>
      <label><input type="radio" name="q3" value="A"> A. I can't go there.</label><br>
      <label><input type="radio" name="q3" value="B"> B. I didn't see it.</label><br>
      <label><input type="radio" name="q3" value="C"> C. I don't know how to.</label><br>
      <div class="explanation" id="ex3">
        → Đáp án B "I didn't see it." (Tôi không thấy nó) là câu trả lời hợp lý khi không biết cách tai nạn xảy ra.<br>
        A. "I can't go there." (Tôi không thể đến đó) không liên quan.<br>
        C. "I don't know how to." (Tôi không biết làm thế nào) không hợp ngữ cảnh.
      </div>
    </div>

    <div class="question">
      <p>4. Hello, I'd like to speak to Mr Green, please.</p>
      <label><input type="radio" name="q4" value="A"> A. Sorry, can you say that again?</label><br>
      <label><input type="radio" name="q4" value="B"> B. I'm sorry. I'll call again later.</label><br>
      <label><input type="radio" name="q4" value="C"> C. I'm afraid I don't know.</label><br>
      <div class="explanation" id="ex4">
        → Đáp án B "I'm sorry. I'll call again later." (Xin lỗi, tôi sẽ gọi lại sau) phù hợp khi không thể kết nối Mr Green.<br>
        A. "Sorry, can you say that again?" (Xin lỗi, bạn nói lại được không?) không hợp trong trường hợp này.<br>
        C. "I'm afraid I don't know." (Tôi e rằng tôi không biết) không lịch sự bằng đáp án B.
      </div>
    </div>

    <div class="question">
      <p>5. May I leave now?</p>
      <label><input type="radio" name="q5" value="A"> A. Until tomorrow.</label><br>
      <label><input type="radio" name="q5" value="B"> B. When we've finished.</label><br>
      <label><input type="radio" name="q5" value="C"> C. I don't agree.</label><br>
      <div class="explanation" id="ex5">
        → Đáp án B "When we've finished." (Khi chúng ta kết thúc) là câu trả lời đúng khi hỏi được phép ra về.<br>
        A. "Until tomorrow." (Cho đến ngày mai) không trả lời trực tiếp.<br>
        C. "I don't agree." (Tôi không đồng ý) không phù hợp.
      </div>
    </div>

    <button type="button" onclick="submitQuiz()">Nộp bài</button>
    <button type="button" onclick="location.href='ReadingPart1.html'">Quay về Reading Part 1</button>

  </form>

  <script>
    const answers = {
      q1: "C",
      q2: "C",
      q3: "B",
      q4: "B",
      q5: "B"
    };

    function submitQuiz() {
      const form = document.getElementById('quizForm');

      // Reset all label colors and hide explanations
      for (let i = 1; i <= 5; i++) {
        const questionLabels = form.querySelectorAll(`input[name="q${i}"]`);
        questionLabels.forEach(input => {
          input.parentElement.classList.remove('correct');
        });
        document.getElementById('ex' + i).style.display = 'none';
      }

      for (let key in answers) {
        let selected = form.querySelector(`input[name="${key}"]:checked`);
        let explanation = document.getElementById('ex' + key.slice(1));
        if (!selected) {
          // Nếu không chọn đáp án, hiển thị lời giải
          explanation.style.display = 'block';
        } else if (selected.value === answers[key]) {
          // Đáp án đúng: tô màu xanh cho label chứa input đó
          selected.parentElement.classList.add('correct');
          explanation.style.display = 'none';
        } else {
          // Sai: hiện lời giải
          explanation.style.display = 'block';
        }
      }

      alert("Đã nộp bài. Nếu câu trả lời sai, lời giải thích sẽ hiển thị.");
    }
  </script>
</body>
</html>
