<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Reading Part 4 - Text 6</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 900px;
        margin: 30px auto;
        background: #f9f9f9;
        padding: 20px;
        line-height: 1.6;
      }

      h2 {
        color: #2c3e50;
        margin-top: 0;
      }

      .sticky-header {
        position: sticky;
        top: 0;
        background: #f9f9f9;
        padding: 10px 20px;
        z-index: 100;
        border-bottom: 2px solid #ddd;
      }

      .question {
        margin-bottom: 20px;
        padding: 15px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
      }

      .question p {
        margin-bottom: 8px;
      }

      label {
        display: block;
        margin-bottom: 5px;
      }

      .correct {
        background-color: #d4edda;
      }

      .incorrect {
        background-color: #f8d7da;
      }

      .explanation {
        margin-top: 10px;
        font-style: italic;
      }

      .score {
        font-weight: bold;
        font-size: 18px;
        margin-top: 20px;
      }

      button {
        margin-top: 20px;
        padding: 10px 20px;
        font-size: 16px;
      }

      .back {
        margin-top: 30px;
        display: inline-block;
        text-decoration: none;
        color: white;
        background-color: #3498db;
        padding: 10px 15px;
        border-radius: 6px;
      }
    </style>
  </head>
  <body>
    <div class="sticky-header">
      <h2>Reading Part 4 - Text 6</h2>
      <p>
        <strong>Read the text below and choose the correct word for each space. For each question, mark the letter next to the correct word A, B, C or D.</strong>
      </p>
      <p>
        When you first apply for a job, you (1) <strong><span id="q0_text">..........</span></strong> not succeed in getting it. It’s always a good (2) <strong><span id="q1_text">..........</span></strong> to ask them to explain to you what prevented you from beating the other candidates. Don’t complain (3) <strong><span id="q2_text">..........</span></strong> the situation, but ask them to advise you (4) <strong><span id="q3_text">..........</span></strong> you can do better next time. Perhaps the interviewer disapproved of or disagreed (5) <strong><span id="q4_text">..........</span></strong> something you said. Perhaps they just glanced at your application and saw something that made it easy to (6) <strong><span id="q5_text">..........</span></strong> between you and another candidate. Don’t regard it as a failure, but recognize (7) <strong><span id="q6_text">..........</span></strong> as a chance to learn more. (8) <strong><span id="q7_text">..........</span></strong> you don’t worry too much about it and continue to believe in yourself, you’ll (9) <strong><span id="q8_text">..........</span></strong> the chance you’ve been waiting for. Then, your family and friends (10) <strong><span id="q9_text">..........</span></strong> be able to congratulate you on your success.
      </p>
    </div>

    <form id="quizForm">
      <div id="questionsContainer"></div>
      <button type="submit">Nộp bài</button>
    </form>

    <div id="score" class="score"></div>
    <a href="ReadingPart4.html" class="back">⬅ Quay về ReadingPart4.html</a>

    <script>
      const questions = [
        {
          number: 1,
          correct: "C",
          options: { A: "have", B: "must", C: "might", D: "do" },
          explanation: "'might not succeed' = có thể không thành công – diễn đạt khả năng không chắc chắn trong tương lai.",
        },
        {
          number: 2,
          correct: "B",
          options: { A: "view", B: "idea", C: "opinion", D: "point" },
          explanation: "'a good idea to do something' là một cụm thông dụng.",
        },
        {
          number: 3,
          correct: "A",
          options: { A: "about", B: "on", C: "with", D: "for" },
          explanation: "'complain about something' là cụm từ đúng.",
        },
        {
          number: 4,
          correct: "C",
          options: { A: "where", B: "when", C: "what", D: "why" },
          explanation: "‘advise you what you can do’ là cấu trúc đúng.",
        },
        {
          number: 5,
          correct: "B",
          options: { A: "in", B: "with", C: "for", D: "of" },
          explanation: "'disagree with something' là cấu trúc đúng.",
        },
        {
          number: 6,
          correct: "A",
          options: { A: "choose", B: "get", C: "take", D: "have" },
          explanation: "'choose between A and B' – chọn giữa hai người/cái.",
        },
        {
          number: 7,
          correct: "C",
          options: { A: "its", B: "it’s", C: "it", D: "it’d" },
          explanation: "'recognize it as...' – recognize something as something.",
        },
        {
          number: 8,
          correct: "B",
          options: { A: "eventual", B: "eventually", C: "event", D: "even" },
          explanation: "'Eventually' là trạng từ – cuối cùng thì.",
        },
        {
          number: 9,
          correct: "A",
          options: { A: "find", B: "found", C: "looked", D: "look" },
          explanation: "'you'll find' – thì tương lai đơn.",
        },
        {
          number: 10,
          correct: "C",
          options: { A: "must", B: "should", C: "will", D: "shall" },
          explanation: "'will be able to' – thì tương lai, khả năng.",
        },
      ];

      const container = document.getElementById("questionsContainer");

      questions.forEach((q, index) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
          <p><strong>${q.number}. Choose the correct word:</strong></p>
          ${Object.entries(q.options)
            .map(
              ([key, val]) =>
                `<label><input type="radio" name="q${index}" value="${key}"> ${key}. ${val}</label>`
            )
            .join("")}
          <div id="explanation${index}" class="explanation"></div>
        `;
        container.appendChild(div);
      });

      document
        .getElementById("quizForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          let score = 0;

          questions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const explanationDiv = document.getElementById(`explanation${index}`);
            const qText = document.getElementById(`q${index}_text`);
            const chosen = selected ? selected.value : null;
            const correctText = q.options[q.correct];
            qText.textContent = correctText;

            if (selected) {
              if (chosen === q.correct) {
                selected.parentElement.classList.add("correct");
                explanationDiv.textContent = "";
                score++;
              } else {
                selected.parentElement.classList.add("incorrect");
                explanationDiv.innerHTML = `❌ Sai. Đáp án đúng là <strong>${q.correct}. ${correctText}</strong><br>${q.explanation}`;
              }
            } else {
              explanationDiv.innerHTML = `❌ Bạn chưa chọn đáp án. Đáp án đúng là <strong>${q.correct}. ${correctText}</strong><br>${q.explanation}`;
            }
          });

          document.getElementById("score").textContent = `Tổng điểm: ${score} / 10`;
        });
    </script>
  </body>
</html>
